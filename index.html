<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JA1 Church - Where Faith Meets Community</title>
    <meta name="description" content="Welcome to JA1 Church - Join our community for worship, ministries, and events. A place where faith grows stronger together." />
    <meta name="author" content="JA1 Church" />

    <meta property="og:title" content="JA1 Church - Where Faith Meets Community" />
    <meta property="og:description" content="Welcome to JA1 Church - Join our community for worship, ministries, and events. A place where faith grows stronger together." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@ja1church" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
  </head>

  <body>
    <nav id="navbar" class="navbar">
      <div class="container">
        <div class="logo">
          <h1>
            <img src="images/17.png" alt="JA1 Church Logo" class="logo-img" />
            <span class="logo-text">JA1 Antipolo</span>
          </h1>
        </div>
        
        <div class="desktop-nav">
          <ul class="nav-links">
            <li><a href="#home" class="nav-link">Home</a></li>
            <li><a href="#ministries" class="nav-link">Ministries</a></li>
            <li><a href="#events" class="nav-link">Events</a></li>
            <li><a href="#about" class="nav-link">About</a></li>
          </ul>
          <button class="btn btn-outline" id="login-btn">Login</button>
        </div>
        
        <div class="mobile-menu-btn">
          <button id="menu-toggle">
            <span class="menu-icon">â˜°</span>
          </button>
        </div>
      </div>
      
      <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-close">
          <button id="menu-close">âœ•</button>
        </div>
        <ul class="mobile-nav-links">
          <li><a href="#home" class="mobile-nav-link">Home</a></li>
          <li><a href="#ministries" class="mobile-nav-link">Ministries</a></li>
          <li><a href="#events" class="mobile-nav-link">Events</a></li>
          <li><a href="#about" class="mobile-nav-link">About</a></li>
        </ul>
        <button class="btn btn-outline w-full" id="mobile-login-btn">Login</button>
      </div>
    </nav>

    <main>
      <section id="home" class="hero">
        <div class="video-background">
          <video autoplay muted loop id="church-video">
            <source src="pexels-2022395.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <div class="overlay"></div>
        </div>
        <div class="container video-content">
          <h1 class="hero-title">Welcome to <span class="highlight">JA1 Antipolo</span></h1>
          <p class="hero-subtitle">A place of worship, community, and spiritual growth. Join us as we celebrate faith and build meaningful connections in "JESUS THE ANOINTED ONE ANTIPOLO"</p>
          
          
          <div class="service-highlights">
            <h2>Service Highlights</h2>
            <div class="highlights-grid">
              <div class="highlight-card">
                <span class="highlight-date">Last Sunday</span>
                <h3>Powerful Worship Service</h3>
                <p>Experience our vibrant worship atmosphere</p>
              </div>
              <div class="highlight-card">
                <span class="highlight-date">Special Event</span>
                <h3>Youth Conference</h3>
                <p>Empowering the next generation</p>
              </div>
              <div class="highlight-card">
                <span class="highlight-date">Community</span>
                <h3>Building Relationships</h3>
                <p>Growing together in faith and fellowship</p>
              </div>
            </div>
          </div>
        </div>
      </section>



      <section id="gallery" class="gallery-section">
        <div class="container">
          <div class="section-header">
            <h2 class="gallery-title-colored">
              <span style="color:#f43f5e;">G</span><span style="color:#f59e0b;">a</span><span style="color:#10b981;">l</span>
              <span style="color:#3b82f6;">l</span><span style="color:#6366f1;">e</span><span style="color:#ec4899;">r</span>
              <span style="color:#8b5cf6;">y</span>
            </h2>
            <p>Captured moments of faith, fellowship, and community.</p>
          </div>
          
          <div class="gallery-grid">
            <div class="gallery-card item-1" data-images='[
              "images/3.jpg",
              "images/church2.jpg",
              "images/2.jpg",
              "images/church1.jpg"
            ]'>
              <div class="image-slider">
                <img src="images/3.jpg" alt="Our Beautiful Church" class="active" />
              </div>
              <div class="overlay">
                <h3>Our Beautiful Church</h3>
              </div>
            </div>
            <div class="gallery-card item-2" data-images='[
              "images/5.jpg",
              "images/6.jpg",
              "images/7.jpg"
            ]'>
              <div class="image-slider">
                <img src="images/5.jpg" alt="Sunday School" class="active" />
              </div>
              <div class="overlay">
                <h3>Sunday School</h3>
              </div>
            </div>
            <div class="gallery-card item-3" data-images='[
              "images/8.jpg",
              "images/1.jpg",
            ]'>
              <div class="image-slider">
                <img src="images/8.jpg" alt="Baptism Service" class="active" />
              </div>
              <div class="overlay">
                <h3>Praise & Worship</h3>
              </div>
            </div>
            <div class="gallery-card item-4" data-images='[
              "images/10.jpg",
              "images/11.jpg",
              "images/12.jpg"
            ]'>
              <div class="image-slider">
                <img src="images/10.jpg" alt="Prayer Meeting" class="active" />
              </div>
              <div class="overlay">
                <h3>Prayer Meeting</h3>
              </div>
            </div>
            <div class="gallery-card item-5" data-images='[
              "images/13.jpeg",
              "images/14.jpg",
              "images/15.jpg"
            ]'>
              <div class="image-slider">
                <img src="images/13.jpeg" alt="Fellowship Dinner" class="active" />
              </div>
              <div class="overlay">
                <h3>Baptism Service</h3>
              </div>
            </div>
          </div>
        </div>
      </section>




        <!-- Add the wave separator here -->
        <div class="wave-separators gray-wave">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none">
            <path d="M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,224C672,213,768,171,864,165.3C960,160,1056,192,1152,197.3C1248,203,1344,181,1392,170.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
          </svg>
        </div>




      <section id="ministries" class="ministries">
        <div class="container">
          <div class="section-header">
            <h2>Our Ministries</h2>
            <p>Discover the various ways you can get involved, grow your faith, and serve the community through our different ministries.</p>
          </div>
          
          <div class="ministry-grid">
            <div class="ministry-card">
              <div class="ministry-icon">
                <img src="images/10.jpg" alt="Youth Ministry">
              </div>
              <h3>Youth Ministry</h3>
              <p>Empowering the next generation through faith, fellowship, and fun activities designed specifically for young people.</p>
              <a href="youth-ministry.html" class="learn-more">Learn More</a>
            </div>
            
            <div class="ministry-card">
              <div class="ministry-icon">
                <img src="https://images.unsplash.com/photo-1529156069898-49953e39b3ac?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80" alt="Family Ministry">
              </div>
              <h3>Family Ministry</h3>
              <p>Supporting and strengthening families through counseling, workshops, and community events.</p>
              <a href="family-ministry.html" class="learn-more">Learn More</a>
            </div>
            
            <div class="ministry-card">
              <div class="ministry-icon">
                <img src="https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Music Ministry">
              </div>
              <h3>Music Ministry</h3>
              <p>Elevating worship through music and creating a spiritual atmosphere for the congregation.</p>
              <a href="music-ministry.html" class="learn-more">Learn More</a>
            </div>
            
            <div class="ministry-card">
              <div class="ministry-icon">
                <img src="https://images.unsplash.com/photo-1593113646773-028c64a8f1b8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Community Outreach">
              </div>
              <h3>Community Outreach</h3>
              <p>Extending Christ's love beyond our walls through service, charity, and outreach programs.</p>
              <a href="community-outreach.html" class="learn-more">Learn More</a>
            </div>
          </div>
        </div>
      </section>


      <!-- Add this after the hero section and before the ministries section -->
      <section id="verse-of-day" class="verse-of-day">
        <div class="container">
          <div class="section-header">
            <h11>Verse of the Day</h11>
            <p class="verse-description">Daily inspiration from God's Word to guide your path</p>
          </div>
          
          <div class="verse-container">
            <div class="verse-content">
              <div class="verse-text" id="verse-text">
                <!-- Verse will be populated by JavaScript -->
                <div class="loading-spinner">
                  <div class="spinner"></div>
                  <p>Loading today's verse...</p>
                </div>
              </div>
              <div class="verse-reference" id="verse-reference">
                <!-- Reference will be populated by JavaScript -->
              </div>
              <button class="btn btn-outline" id="share-verse">Share This Verse</button>
            </div>
          </div>
        </div>
      </section>

      

      <section id="events" class="events">
        <div class="container">
          <div class="section-header">
            <h2>Upcoming Events</h2>
            <p>Join us for various events and gatherings throughout the month designed to strengthen your faith and build community.</p>
          </div>
          
          <div class="events-container">
            <div class="calendar-container">
              <div class="calendar-header">
                <h3>Event Calendar</h3>
              </div>
              <div class="calendar" id="events-calendar">
                <!-- Calendar will be generated by JavaScript -->
              </div>
            </div>
            
            <div class="events-list">
              <h3 id="selected-date">Events for April 13, 2025</h3>
              <div id="events-for-date">
                <!-- Event items will be populated by JavaScript -->
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Add the wave separator here -->
      <div class="wave-separator pink-wave">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none">
          <path d="M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,224C672,213,768,171,864,165.3C960,160,1056,192,1152,197.3C1248,203,1344,181,1392,170.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
        </svg>
      </div>

    <!-- Enhanced About Section (Preserving Original Alignment) -->
    <section id="about" class="about">
      <div class="container">
        <div class="section-header">
          <h2>About JA1 Church</h2>
          <p>Learn about our history, mission, and the values that guide our community of faith.</p>
        </div>
        
        <div class="about-grid">
          <div class="about-card">
            <div class="about-image">
              <img src="images/mission.jpg" alt="Our Mission">
              <div class="card-badge">Our Purpose</div>
            </div>
            <div class="about-content">
              <h3>Our Mission</h3>
              <p>Our mission is to set an extraordinary of massive evangelism through Inner Healing and Deliverance preaching the gospel of the Lord Jesus Christ; healing the broken hearted; deliverance to the captive, recovering of sight to the blind; liberty to them that are bruised; and proclaiming the acceptable year of the Lord</p>
            </div>
          </div>
          
          <div class="about-card">
            <div class="about-content">
              <h3>Our Values</h3>
              <ul class="values-list">
                <li>
                  <div class="value-number">1</div>
                  <div>
                    <h4>Faith</h4>
                    <p>We believe in nurturing a personal and growing relationship with God.</p>
                  </div>
                </li>
                <li>
                  <div class="value-number">2</div>
                  <div>
                    <h4>Community</h4>
                    <p>We value authentic relationships and creating a sense of belonging.</p>
                  </div>
                </li>
                <li>
                  <div class="value-number">3</div>
                  <div>
                    <h4>Service</h4>
                    <p>We are called to serve others with compassion and generosity.</p>
                  </div>
                </li>
                <li>
                  <div class="value-number">4</div>
                  <div>
                    <h4>Growth</h4>
                    <p>We encourage continuous spiritual growth and development.</p>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
        
        <div class="info-cards">
          <div class="info-card">
            <div class="info-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
            </div>
            <h3>Service Times</h3>
            <p><span class="highlight">Sunday Worship:</span> 10:00 AM</p>
            <p><span class="highlight">Wednesday Prayer:</span> 7:00 PM</p>
          </div>
          
          <div class="info-card">
            <div class="info-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
            </div>
            <h3>Location</h3>
            <p>123 Faith Street</p>
            <p>Cityville, State 12345</p>
          </div>
          
          <div class="info-card">
            <div class="info-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
            </div>
            <h3>Contact Us</h3>
            <p>Phone: (123) 456-7890</p>
            <p>Email: info@ja1church.org</p>
          </div>
        </div>
      </div>
    </section>
      
    </main>

    <footer class="footer">
      <div class="container">
        <div class="footer-grid">
          <div class="footer-col">
            <h3>JA1 Church</h3>
            <p>A place of worship, community, and spiritual growth.</p>
            <div class="social-links">
              <a href="#" class="social-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/>
                </svg>
              </a>
              <a href="#" class="social-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"/>
                </svg>
              </a>
              <a href="#" class="social-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"/>
                </svg>
              </a>
            </div>
          </div>
          
          <div class="footer-col">
            <h4>Quick Links</h4>
            <ul>
              <li><a href="#home">Home</a></li>
              <li><a href="#ministries">Ministries</a></li>
              <li><a href="#events">Events</a></li>
              <li><a href="#about">About</a></li>
            </ul>
          </div>
          
          <div class="footer-col">
            <h4>Service Times</h4>
            <ul>
              <li>Sunday: 10:00 AM</li>
              <li>Wednesday: 7:00 PM</li>
              <li>Youth (Friday): 6:00 PM</li>
            </ul>
          </div>
          
          <!-- <div class="footer-col">
            <h4>Contact Us</h4>
            <address>
              <p>123 Faith Street</p>
              <p>Cityville, State 12345</p>
              <p>Phone: (123) 456-7890</p>
              <p>Email: info@ja1church.org</p>
            </address>
          </div>
        </div> -->

        <div class="footer-col">
          <h4>Contact Us</h4>
          <ul>
            <li><a href="https://maps.google.com/?q=123+Faith+Street+Cityville+State+12345">123 Faith Street, Cityville, State 12345</a></li>
            <li><a href="tel:1234567890">(123) 456-7890</a></li>
            <li><a href="mailto:info@ja1church.org">info@ja1church.org</a></li>
          </ul>
        </div>
      </div>
        
        <div class="copyright">
          <p>&copy; 2025 JA1 Church. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <div class="modal" id="login-modal">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Welcome Back</h2>
        <p>Login to access the administrative features</p>
        
        <div class="tabs">
          <div class="tab-list">
            <button class="tab-btn active" data-tab="admin">Admin</button>
            <button class="tab-btn" data-tab="leader">Leader</button>
          </div>
          
          <div class="tab-content active" id="admin-tab">
            <form class="login-form" id="admin-login-form">
              <div class="form-group">
                <label for="admin-email">Email</label>
                <input type="email" id="admin-email" placeholder="admin@ja1church.org" required>
              </div>
              <div class="form-group">
                <label for="admin-password">Password</label>
                <input type="password" id="admin-password" required>
              </div>
              <div id="admin-error" class="error-message" style="color: red; text-align: center; margin-bottom: 1rem; display: none;"></div>
              <button type="submit" class="btn btn-primary">Login as Administrator</button>
              <div class="text-center">
                <a href="#" class="forgot-password">Forgot password?</a>
              </div>
            </form>
          </div>
          
          <div class="tab-content" id="leader-tab">
            <form class="login-form">
              <div class="form-group">
                <label for="leader-email">Email</label>
                <input type="email" id="leader-email" placeholder="leader@ja1church.org" required>
              </div>
              <div class="form-group">
                <label for="leader-password">Password</label>
                <input type="password" id="leader-password" required>
              </div>
              <button type="submit" class="btn btn-primary">Login as Leader</button>
              <div class="text-center">
                <a href="#" class="forgot-password">Forgot password?</a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>



       <!-- Updated AI Assistant Chat Widget for index.html -->
    <div id="ai-assistant-widget">
      <div id="chat-toggle" onclick="toggleChat()">
        <svg viewBox="0 0 24 24">
          <path d="M12 2C6.48 2 2 6.48 2 12c0 1.84.5 3.56 1.36 5.04L2 22l4.96-1.36C8.44 21.5 10.16 22 12 22c5.52 0 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-3-6a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2z"/>
        </svg>
      </div>
      <div id="chat-box">
        <div id="chat-header">
          <svg viewBox="0 0 24 24">
            <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/>
          </svg>
          <span>JA1 Church Assistant</span>
          <button id="chat-close" onclick="toggleChat()">âœ•</button>
        </div>
        <div id="chat-messages">
          <div class="bot-message">Welcome to JA1 Church's Assistant! Ask about our history, branches, services, community programs, or how to get involved. ðŸ˜Š</div>
        </div>
        <div id="chat-input-area">
          <input type="text" id="chat-input" placeholder="Ask about JA1 Church..." onkeydown="if(event.key==='Enter') sendMessage()">
          <button onclick="sendMessage()">âž¤</button>
        </div>
      </div>
    </div>

    <div class="modal" id="register-modal">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Join Our Community</h2>
        <p>Register to become a part of the JA1 Church family</p>
        
        <form class="register-form">
          <div class="form-row">
            <div class="form-group">
              <label for="firstName">First Name</label>
              <input type="text" id="firstName" required>
            </div>
            <div class="form-group">
              <label for="lastName">Last Name</label>
              <input type="text" id="lastName" required>
            </div>
          </div>
          
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" required>
          </div>
          
          <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="tel" id="phoneNumber" required>
          </div>
          
          <div class="form-group">
            <label for="address">Address</label>
            <input type="text" id="address">
          </div>
          
          <div class="form-group">
            <label for="specialRequests">Special Requests or Questions</label>
            <textarea id="specialRequests" placeholder="Let us know if you have any questions or special needs"></textarea>
          </div>
          
          <button id="registerBtn" type="submit" class="btn btn-primary">Register</button>
        </form>
      </div>
    </div>

    <div class="modal" id="event-modal">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2 id="event-title">Event Title</h2>
        <p id="event-date-time">Date and Time</p>
        
        <div class="event-details">
          <div class="event-info">
            <h4>Location</h4>
            <p id="event-location">Location</p>
          </div>
          
          <div class="event-info">
            <h4>Description</h4>
            <p id="event-description">Description</p>
          </div>
        </div>
        
        <div class="modal-footer">
          <button class="btn btn-primary">Add to Calendar</button>
          <button class="btn btn-outline close-btn">Close</button>
        </div>
      </div>
    </div>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
    <script src="script.js"></script>
    <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9354931afc0c44ff',t:'MTc0NTQ4Njk0OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>

    <script src="script.js" type="module"></script>

    <script type="module">
      // Import Firebase SDKs
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
      import { getFirestore, collection, addDoc, query, where, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
      import { getAuth, fetchSignInMethodsForEmail } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

      // Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyA---_h9ddOjlbiCnEsy4z3p-A4jKwsc-I",
        authDomain: "ja1-church-database.firebaseapp.com",
        projectId: "ja1-church-database",
        storageBucket: "ja1-church-database.firebasestorage.app",
        messagingSenderId: "650630302188",
        appId: "1:650630302188:web:5d0768490af1d051ccd8c9"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);
      const auth = getAuth(app);

      // References to form elements
      const firstName = document.getElementById("firstName");
      const lastName = document.getElementById("lastName");
      const email = document.getElementById("email");
      const phoneNumber = document.getElementById("phoneNumber");
      const address = document.getElementById("address");
      const specialRequests = document.getElementById("specialRequests");
      const registerBtn = document.getElementById("registerBtn");
      const registerForm = document.querySelector(".register-form");
      const emailError = document.createElement("div");
      emailError.id = "email-error";
      emailError.className = "error-message";
      emailError.style.color = "red";
      emailError.style.textAlign = "center";
      emailError.style.marginBottom = "1rem";
      emailError.style.display = "none";
      email.parentElement.appendChild(emailError);

      // Retry helper function
      async function retryOperation(operation, maxAttempts = 3, delay = 1000) {
        for (let attempt = 1; attempt <= maxAttempts; attempt++) {
          try {
            return await operation();
          } catch (error) {
            if (attempt === maxAttempts) throw error;
            await new Promise(resolve => setTimeout(resolve, delay));
          }
        }
      }

      // Validation function
      async function validateRegistrationData() {
        emailError.style.display = "none";
        emailError.textContent = "";

        if (!firstName.value.trim()) {
          emailError.textContent = "First Name is required";
          emailError.style.display = "block";
          return false;
        }
        if (!lastName.value.trim()) {
          emailError.textContent = "Last Name is required";
          emailError.style.display = "block";
          return false;
        }
        if (!email.value.trim()) {
          emailError.textContent = "Email is required";
          emailError.style.display = "block";
          return false;
        }
        if (!phoneNumber.value.trim()) {
          emailError.textContent = "Phone Number is required";
          emailError.style.display = "block";
          return false;
        }

        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email.value.trim())) {
          emailError.textContent = "Please enter a valid email address";
          emailError.style.display = "block";
          return false;
        }

        const phoneRegex = /^\+?[\d\s-]{8,}$/;
        if (!phoneRegex.test(phoneNumber.value.trim())) {
          emailError.textContent = "Please enter a valid phone number";
          emailError.style.display = "block";
          return false;
        }

        // Check if email already exists in Firestore
        try {
          const usersRef = collection(db, "users");
          const q = query(usersRef, where("email", "==", email.value.trim()));
          const querySnapshot = await getDocs(q);
          if (!querySnapshot.empty) {
            emailError.textContent = "This email is already registered";
            emailError.style.display = "block";
            return false;
          }

          // Optionally check Firebase Auth for existing email
          const signInMethods = await fetchSignInMethodsForEmail(auth, email.value.trim());
          if (signInMethods.length > 0) {
            emailError.textContent = "This email is already registered";
            emailError.style.display = "block";
            return false;
          }
        } catch (error) {
          console.error("Error checking email:", error);
          emailError.textContent = "Unable to check email availability. Please try again later.";
          emailError.style.display = "block";
          return false;
        }

        return true;
      }

      // Register function
      async function register_AutoID(event) {
        event.preventDefault();

        const isValid = await validateRegistrationData();
        if (!isValid) {
          return;
        }

        try {
          // Add user data to Firestore
          const userData = {
            firstName: firstName.value.trim(),
            lastName: lastName.value.trim(),
            email: email.value.trim(),
            phoneNumber: phoneNumber.value.trim(),
            address: address.value.trim(),
            specialRequests: specialRequests.value.trim(),
            createdAt: new Date().toISOString()
          };

          const docRef = await retryOperation(() =>
            addDoc(collection(db, "users"), userData)
          );

          // Show success message
          const successMessage = document.createElement("div");
          successMessage.textContent = "Registration Successful! Welcome to JA1 Church!";
          successMessage.style.color = "green";
          successMessage.style.textAlign = "center";
          successMessage.style.marginBottom = "1rem";
          registerBtn.parentElement.insertBefore(successMessage, registerBtn);

          console.log("Document written with ID: ", docRef.id);

          // Clear form
          firstName.value = "";
          lastName.value = "";
          email.value = "";
          phoneNumber.value = "";
          address.value = "";
          specialRequests.value = "";

          // Close modal
          const registerModal = document.getElementById("register-modal");
          if (registerModal) {
            registerModal.style.display = "none";
          }

          // Remove success message after 3 seconds
          setTimeout(() => successMessage.remove(), 3000);
        } catch (error) {
          console.error("Registration error:", error);
          let errorMessage = "Registration failed. Please try again later.";
          if (error.code === "permission-denied") {
            errorMessage = "Permission denied. Contact support for assistance.";
          } else if (error.code === "unavailable") {
            errorMessage = "Firestore service is temporarily unavailable. Please try again.";
          }
          emailError.textContent = errorMessage;
          emailError.style.display = "block";
        }
      }

      // Assign event listener to form submission
      registerForm.addEventListener("submit", register_AutoID);

      // Call displayUpcomingEvents when page loads (if defined elsewhere)
      document.addEventListener("DOMContentLoaded", () => {
        if (typeof displayUpcomingEvents === "function") {
          displayUpcomingEvents();
        }
      });
    </script>
  </body>
</html>
